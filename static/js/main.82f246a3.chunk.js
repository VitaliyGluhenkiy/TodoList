(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{29:function(t,e,c){},39:function(t,e,c){},70:function(t,e,c){},71:function(t,e,c){},74:function(t,e,c){},77:function(t,e,c){"use strict";c.r(e);var n=c(0),s=c.n(n),a=c(19),i=c.n(a),o=(c(29),c(26)),r=c(5),l=c(11),j=c(3),u=function(t){return{type:"DELETE_LIST_ITEM",data:t}},d=c(8),b=c.n(d),O=c(2),h=(c(70),c.p+"static/media/close.0563020f.svg"),f=c(21),m=(c(71),c(22)),p=c.n(m),v=c(1),x=function(t){var e=t.color,c=t.onClick,n=t.className;return Object(v.jsx)("i",{onClick:c,className:p()("badge",Object(f.a)({},"badge--".concat(e),e),n)})},k=function(){var t=Object(n.useState)(!1),e=Object(l.a)(t,2),c=e[0],s=e[1],a=Object(n.useState)(""),i=Object(l.a)(a,2),o=i[0],j=i[1],u=Object(n.useState)(""),d=Object(l.a)(u,2),f=d[0],m=d[1],p=Object(n.useState)(!1),k=Object(l.a)(p,2),_=k[0],C=k[1],T=Object(r.b)(),S=Object(r.c)((function(t){return{colors:t.listReducer.colors}})).colors;Object(n.useEffect)((function(){b.a.get("http://localhost:3001/colors").then((function(t){var e=t.data;T(function(t){return{type:"SET_COLORS",colors:t}}(e))}))}),[]);var E=function(){s(!1),j(S[0].id),m("")};return Object(v.jsxs)("div",{className:"add-list",children:[Object(v.jsxs)("div",{className:"add-list__openPopup",onClick:function(){return s(!0)},children:[Object(v.jsx)("p",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"}),Object(v.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"list__icon-plus",children:[Object(v.jsx)("path",{d:"M8 1V15",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(v.jsx)("path",{d:"M1 8H15",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),c&&Object(v.jsx)("div",{className:"add-list__popup",children:Object(v.jsxs)("div",{className:"popup",children:[Object(v.jsx)("input",{value:f,onChange:function(t){return m(t.target.value)},className:"field",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430"}),Object(v.jsx)("div",{className:"closeBlock",children:Object(v.jsx)("img",{onClick:E,src:h,alt:""})}),Object(v.jsx)("div",{className:"colors",children:S.map((function(t){return Object(v.jsx)(x,{onClick:function(){return j(t.id)},color:t.name,className:o===t.id&&"active"},t.id)}))}),Object(v.jsx)("button",{onClick:function(){f?(C(!0),b.a.post("http://localhost:3001/lists",{name:f,colorId:o||"1",tasks:[]}).then((function(t){var e=t.data,c=S.filter((function(t){return t.id===o}))[0].name,n=Object(O.a)(Object(O.a)({},e),{},{color:{name:c}});T(function(t){return{type:"ADD_LIST_ITEM",listItem:t}}(n))})).finally((function(){C(!1),E()}))):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430")},className:"button",children:_?"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})]})},_=c.p+"static/media/add.23ef596b.svg",C=(c(39),function(t){var e=t.list,c=Object(n.useState)(!1),s=Object(l.a)(c,2),a=s[0],i=s[1],o=Object(n.useState)(""),j=Object(l.a)(o,2),u=j[0],d=j[1],O=Object(n.useState)(!1),h=Object(l.a)(O,2),f=h[0],m=h[1],p=function(){i(!a),d("")},x=Object(r.b)();return Object(v.jsx)("div",{className:"tasks__form",children:a?Object(v.jsxs)("div",{className:"tasks__form-input",children:[Object(v.jsx)("input",{type:"text",value:u,onChange:function(t){return d(t.target.value)}}),Object(v.jsxs)("div",{className:"buttons",children:[Object(v.jsx)("button",{onClick:function(){var t={listId:e.id,text:u,completed:!1};m(!0),b.a.post("http://localhost:3001/tasks",t).then((function(t){var e=t.data;x({type:"ADD_NEW_TASKS_ITEM",newTaskItem:e}),p()})).catch((function(){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438")})).finally((function(){m(!1)}))},disabled:f,className:"button",children:f?"\u0414\u043e\u0431\u0430\u043b\u044f\u0435\u0442\u044c\u0441\u044f":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),Object(v.jsx)("button",{onClick:p,className:"cancelButton",children:"Cancel"})]})]}):Object(v.jsxs)("div",{onClick:p,className:"tasks__form-new",children:[Object(v.jsx)("img",{src:_,alt:"Add svg"}),Object(v.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"})]})})}),T=c.p+"static/media/edit.5be2348c.svg",S=c.p+"static/media/remove.f6fba105.svg",E=function(t){var e=t.list,c=Object(r.b)(),s=Object(r.c)((function(t){return{tasks:t.taskReducer.tasks}})).tasks.filter((function(t){return t.listId===e.id}));console.log(s);Object(n.useEffect)((function(){d.get("http://localhost:3001/tasks").then((function(t){var e=t.data;c(function(t){return{type:"SET_TASKS",data:t}}(e))}))}),[]);var a=function(t){console.log(t.target.checked)};return Object(v.jsxs)("div",{className:"tasks",children:[Object(v.jsxs)("div",{className:"tasks__title-block",children:[Object(v.jsx)("h1",{className:"tasks__title",style:e.color&&{color:e.color.hex},children:e.name}),Object(v.jsx)("img",{onClick:function(){var t=window.prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",e.name);t&&(c(function(t,e){return{type:"ON_EDIT_TITLE",payload:t,newTitle:e}}(e.id,t)),d.patch("http://localhost:3001/lists/".concat(e.id),{name:t}).catch((function(){alert("\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0443\u0434\u0430\u043b\u0441\u044f")})))},className:"penSvg",src:T,alt:"EDIT"})]}),Object(v.jsx)("div",{children:!e.tasks.length&&Object(v.jsx)("h2",{children:"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"})}),s.map((function(t){return Object(v.jsx)("div",{className:"tasks__items",children:Object(v.jsxs)("div",{className:"checkbox",children:[Object(v.jsx)("input",{onChange:a,id:"task-".concat(t.id),type:"checkbox"}),Object(v.jsx)("label",{htmlFor:"task-".concat(t.id),children:Object(v.jsx)("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M9.29999 1.20001L3.79999 6.70001L1.29999 4.20001",stroke:"#000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),Object(v.jsx)("p",{children:t.text}),Object(v.jsx)("div",{className:"removeIcon",children:Object(v.jsx)("img",{onClick:function(){return n=t.id,void d.delete("http://localhost:3001/tasks/".concat(n)).then((function(t){t.data;var s=e.tasks.filter((function(t){return t.id!==n}));c(function(t){return{type:"REMOVE_TASK_ITEM_AC",data:t}}(s))}));var n},src:S,alt:"Remove icon"})})]})},t.id)})),Object(v.jsx)(C,{list:e})]})},g=c(27),N=c.n(g),w=c(41),I=(c(74),function(t){var e=t.activeItem,c=t.onClickItem,n=t.lists,s=Object(r.b)();function a(t){return new Promise((function(e,c){setTimeout((function(){e()}),t)}))}function i(){return(i=Object(w.a)(N.a.mark((function t(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(3e3);case 2:return t.next=4,d.delete("http://localhost:3001/lists/".concat(e)).then((function(){var t=n.filter((function(t){return t.id!==e}));s(u(t))}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(v.jsx)("ul",{className:"list",children:n.map((function(t){return Object(v.jsx)("div",{children:Object(v.jsxs)("li",{className:p()(t.className,{active:t.active?t.active:e&&e.id===t.id}),onClick:c?function(){return c(t)}:null,children:[Object(v.jsx)("i",{children:t.icon?t.icon:Object(v.jsx)(x,{color:t.color.name})}),Object(v.jsxs)("span",{children:[t.name,t.tasks&&"(".concat(t.tasks.length,")")]}),Object(v.jsx)("img",{onClick:function(){return function(t){return i.apply(this,arguments)}(t.id)},src:S,alt:"Remove icon"})]})},t.id)}))})});var L=function(){var t=Object(n.useState)(null),e=Object(l.a)(t,2),c=e[0],s=e[1],a=Object(j.e)(),i=Object(j.f)(),o=Object(r.c)((function(t){return{lists:t.listReducer.lists}})).lists,u=Object(r.c)((function(t){return{tasks:t.taskReducer.tasks}})).tasks,d=Object(r.b)();return Object(n.useEffect)((function(){b.a.get("http://localhost:3001/lists?_expand=color&_embed=tasks").then((function(t){var e=t.data;d(function(t){return{type:"SET_LISTS",data:t}}(e))}))}),[u]),Object(n.useEffect)((function(){var t=i.pathname.split("lists/")[1];if(o){var e=o.find((function(e){return e.id===Number(t)}));s(e)}}),[o,i.pathname]),Object(v.jsxs)("div",{className:"todo",children:[Object(v.jsxs)("div",{className:"todo__sidebar",children:[Object(v.jsx)(I,{onClickItem:function(t){a.push("/")},lists:[{active:!c,icon:Object(v.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M12.96 8.10001H7.74001C7.24321 8.10001 7.20001 8.50231 7.20001 9.00001C7.20001 9.49771 7.24321 9.90001 7.74001 9.90001H12.96C13.4568 9.90001 13.5 9.49771 13.5 9.00001C13.5 8.50231 13.4568 8.10001 12.96 8.10001V8.10001ZM14.76 12.6H7.74001C7.24321 12.6 7.20001 13.0023 7.20001 13.5C7.20001 13.9977 7.24321 14.4 7.74001 14.4H14.76C15.2568 14.4 15.3 13.9977 15.3 13.5C15.3 13.0023 15.2568 12.6 14.76 12.6ZM7.74001 5.40001H14.76C15.2568 5.40001 15.3 4.99771 15.3 4.50001C15.3 4.00231 15.2568 3.60001 14.76 3.60001H7.74001C7.24321 3.60001 7.20001 4.00231 7.20001 4.50001C7.20001 4.99771 7.24321 5.40001 7.74001 5.40001ZM4.86001 8.10001H3.24001C2.74321 8.10001 2.70001 8.50231 2.70001 9.00001C2.70001 9.49771 2.74321 9.90001 3.24001 9.90001H4.86001C5.35681 9.90001 5.40001 9.49771 5.40001 9.00001C5.40001 8.50231 5.35681 8.10001 4.86001 8.10001ZM4.86001 12.6H3.24001C2.74321 12.6 2.70001 13.0023 2.70001 13.5C2.70001 13.9977 2.74321 14.4 3.24001 14.4H4.86001C5.35681 14.4 5.40001 13.9977 5.40001 13.5C5.40001 13.0023 5.35681 12.6 4.86001 12.6ZM4.86001 3.60001H3.24001C2.74321 3.60001 2.70001 4.00231 2.70001 4.50001C2.70001 4.99771 2.74321 5.40001 3.24001 5.40001H4.86001C5.35681 5.40001 5.40001 4.99771 5.40001 4.50001C5.40001 4.00231 5.35681 3.60001 4.86001 3.60001Z",fill:"black"})}),name:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",id:99}]}),o?Object(v.jsx)(I,{onClickItem:function(t){s(t),a.push("/lists/".concat(t.id))},activeItem:c,lists:o}):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",Object(v.jsx)(k,{})]}),Object(v.jsxs)("div",{className:"todo__tasks",children:[Object(v.jsx)(j.a,{exact:!0,path:"/",children:o.map((function(t){return Object(v.jsx)(E,{list:t},t.id)}))}),o&&c&&Object(v.jsx)(E,{list:c})]})]})},y=c(14),M=c(43),D=c(23),A="SET_TASKS",H="REMOVE_TASK_ITEM_AC",R="ADD_NEW_TASKS_ITEM",K="SET_TASKS_LIST_DG",B={tasks:[]},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A:case H:return Object(O.a)(Object(O.a)({},t),{},{tasks:e.data});case R:return Object(O.a)(Object(O.a)({},t),{},{tasks:[].concat(Object(D.a)(t.tasks),[e.newTaskItem])});case K:return Object(O.a)(Object(O.a)({},t),{},{tasks:e.newTasksDG});default:return t}},V="SET_LISTS",W="SET_COLORS",G="ADD_LIST_ITEM",J="DELETE_LIST_ITEM",P="SET_TOGGLE_ITEM",X="ON_EDIT_TITLE",F={lists:[],colors:[]},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments.length>1?arguments[1]:void 0,c=e.type,n=e.payload;switch(c){case V:case J:return Object(O.a)(Object(O.a)({},t),{},{lists:e.data});case W:return Object(O.a)(Object(O.a)({},t),{},{colors:e.colors});case G:return Object(O.a)(Object(O.a)({},t),{},{lists:[].concat(Object(D.a)(t.lists),[e.listItem])});case P:var s=JSON.parse(JSON.stringify(t.lists)),a=s.findIndex((function(t){return t.id===n.id}));return s[a]=n,Object(O.a)(Object(O.a)({},t),{},{lists:s});case X:var i=t.lists.map((function(t){return t.id===n&&(t.name=e.newTitle),t}));return Object(O.a)(Object(O.a)({},t),{},{lists:i});default:return t}},q=Object(y.b)({taskReducer:Z,listReducer:U}),z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.c,Q=Object(y.d)(q,z(Object(y.a)(M.a)));window.store=Q;var Y=Q;i.a.render(Object(v.jsx)(o.a,{children:Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(r.a,{store:Y,children:Object(v.jsx)(L,{})})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.82f246a3.chunk.js.map